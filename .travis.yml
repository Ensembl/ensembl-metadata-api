language: python
os: linux

python:
  - "3.8"

env:
  - TESTENV=test
  - TESTENV=lint

install:
  - pip install -r requirements-test.txt
  - pip install .

script:
  - if [[ "$TESTENV" == "test" ]]; then coverage run -m pytest; fi
  - if [[ "$TESTENV" == "test" ]]; then coverage report -m; fi
  - if [[ "$TESTENV" == "lint" ]]; then pylint src tests; fi
  - if [[ "$TESTENV" == "lint" ]]; then mypy src tests; fi
